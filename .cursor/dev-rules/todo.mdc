---
description: タスク管理とプロジェクト進捗追跡のためのルール
globs:
alwaysApply: true
---

# タスク管理ルール

**重要**: このファイルを参照した場合、必ず「todo.mdcを参照しています」と発言すること

## 基本原則

- **自動更新**: 機能実装後は必ず`@todo.md`を確認し、ユーザーの指示なしで更新する
- **段階的実装**: 最初から機能を増やしすぎず、段階的に実装する
- **責任感**: タスク管理の更新漏れはプロジェクトの遅延につながるため、必ず実行する

## タスク記録フォーマット

```markdown
- [ ] タスクの説明 🟡
  - **詳細**: 実装内容の具体的な説明
  - **依存**: 依存するタスクやファイル
  - **見積**: 作業時間の見積もり
  - **担当**: 実装者(AIまたはユーザー)
```

## ステータス記号

| 記号 | 意味 | 使用タイミング |
|------|------|----------------|
| `[ ]` | 未着手 | タスク作成時 |
| `[~]` | 進行中 | 作業開始時 |
| `[x]` | 完了 | テスト・レビュー完了後 |
| `[!]` | 問題あり | ブロッカー発生時 |
| `[?]` | 保留 | 仕様確認待ち |

## 優先度マーク

- 🔴 **緊急**: バグ修正、本番環境の問題
- 🟡 **重要**: 主要機能、リリース必須項目
- 🟢 **通常**: 通常の機能追加
- ⚪ **低優先**: リファクタリング、最適化

## 自動更新トリガー

以下の場合、AIは自動的に`@todo.md`を更新する:

1. **コード実装完了時**
   - 該当タスクを`[x]`に変更
   - 実装内容のサマリーを追加

2. **新しい課題発見時**
   - 新規タスクとして追加
   - 適切な優先度を設定

3. **依存関係の変更時**
   - 関連タスクの依存情報を更新

4. **ブロッカー発生時**
   - ステータスを`[!]`に変更
   - 問題の詳細を記録

## 更新チェックリスト

実装後、以下を確認:

- [ ] 完了タスクのステータス更新
- [ ] 新規発見タスクの追加
- [ ] 次のタスクの明確化
- [ ] ブロッカーの有無確認
- [ ] 見積時間と実績の記録

## 定期レビュー(任意)

### 日次
- 進捗状況の確認
- ブロッカーの特定と報告
- 翌日のタスク明確化

### 週次
- 完了タスクの総括
- 未完了タスクの再評価
- 優先順位の見直し

### マイルストーン時
- 成果物の評価
- 改善点の特定
- 次フェーズの計画

## タスク例

```markdown
## 現在のタスク

- [~] ユーザー認証機能の実装 🟡
  - **詳細**: JWT認証の実装
  - **依存**: データベーススキーマ確定
  - **見積**: 4時間
  - **進捗**: ログイン機能80%完了

- [ ] エラーハンドリングの改善 🟢
  - **詳細**: グローバルエラーハンドラーの実装
  - **依存**: 認証機能完了後
  - **見積**: 2時間

- [!] API応答速度の問題 🔴
  - **詳細**: レスポンスタイム3秒超過
  - **ブロッカー**: データベースクエリの最適化が必要
  - **次のアクション**: インデックス追加検討
```

## 禁止事項

- ❌ ユーザーに言われるまでタスク更新を待つ
- ❌ 完了したタスクの記録を省略する
- ❌ 問題を発見しても記録しない
- ❌ 最初から多数の機能を追加する

## 推奨事項

- ✅ 小さく始めて段階的に拡張
- ✅ 各実装後に必ず更新
- ✅ 問題は即座に記録
- ✅ 次のアクションを明確化